{% extends 'base.html' %}

{% block body %}
<div class="container">
    <a class="btn btn-info btn-lg m-5" href="/" role="button">Home</a>
    <h3>データベース</h3>
    <table class="table table-striped table-hover">
        <thread>
            <tr>
                <th scope="col">#</th>
                <th scope="col">87Sr/86Sr</th>
                <th scope="col">87Rb/86Sr</th>
                <th scope="col">Update</th>
                <th scope="col">Delete</th>
            </tr>
        </thread>
        <tbody>
            {% for post in posts %}
                <tr>
                    <td>{{ post.id }}</td>
                    <td>{{ post.Sr }}</td>
                    <td>{{ post.Rb }}</td>
                    <td><a class="btn btn-success btn-sm" href="/update/{{ post.id }}" role="button">Update</a></td>
                    <td><a class="btn btn-danger btn-sm" href="/delete/{{ post.id }}" role="button">Delete</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <a class="btn btn-info btn-lg m-5" href="/input" role="button">CREATE NEW DATA</a>
    <div id="base">
        <h3>同位体年代測定の基本式</h3>
        <div id="f">
            <div>
                \[
                    \frac{87Sr}{86Sr} = 
                    \left(\frac{87Sr}{86Sr}\right)_0  + \frac{87Rb}{86Sr} \left(e^{λt}-1\right)
                \]
            </div>
        </div>
    </div>
    <br>
    <h3>計算結果</h3>
    <div class="container">
        <div id="age" class="">
            <h5 class="">年代（傾き）</h5>
            <div id="a">
                \[
                    \left(e^{λt}-1\right) = {{ a }}
                \]
                \[
                    t = {{ t }} 億年
                \]
            </div>
            <br>
        </div>
        <br>
        <div id="initial">
            <h5>初期値（切片）</h5>
            <div id="b">
                \[
                    \left(\frac{87Sr}{86Sr}\right)_0 = {{ b }}
                \]
            </div>

        </div>
        <br>

        <div id="isochron">
            <h5>アイソクロン</h5>
                <div>
                    \[
                        \frac{87Sr}{86Sr} = 
                        {{ b }}  + \frac{87Rb}{86Sr} \left({{ a }}\right)
                    \]
                </div>
            <br>
            <img src="data:image/png;base64,{{ img }}" class="figure-img img-fluid rounded"/>
        </div>
        <br>
    </div>
    <p><a class="btn btn-outline-primary" href="/" role="button">Return</a></p>
</div>
{% endblock %}
